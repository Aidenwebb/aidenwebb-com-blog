[{"content":"Authentication Authentication is saying \u0026ldquo;I am me\u0026rdquo;. It validates who you are. When you go to a club and the bouncer stops you and you tell him you\u0026rsquo;re on the guest list, you then show him your ID and he says \u0026ldquo;Ahh! You\u0026rsquo;re that guy, come on in\u0026rdquo; - that\u0026rsquo;s Authentication\nAuthorisation Authorisation validates what you claim to be. Going back to the club and the bouncer stops you. You show him your ID. He authenticates you and that your ID belongs to you by checking your picture matches your face. He then checks your authorisation by checking your date of birth to validate that you\u0026rsquo;re old enough to come in, but otherwise doesn\u0026rsquo;t care who you are. He only cares about your age. Your date of birth here is what\u0026rsquo;s called a claim. It\u0026rsquo;s something your ID token claims to be true about you.\nAccounting Accounting validates what you do once you have access. Back to the club, the bouncer gives you a wristband. This wristband is used for everything at the club, from buying drinks, to accessing the dancefloor, to going to the toilet. Every time your wristband is used, where and when it is used is logged. These logs in aggregate form a detailed picture of what you did during your time at the club.\n","permalink":"https://aidenwebb.github.io/posts/whats-the-difference-between-authentication-authorisation-and-accounting-aaa/","summary":"Authentication Authentication is saying \u0026ldquo;I am me\u0026rdquo;. It validates who you are. When you go to a club and the bouncer stops you and you tell him you\u0026rsquo;re on the guest list, you then show him your ID and he says \u0026ldquo;Ahh! You\u0026rsquo;re that guy, come on in\u0026rdquo; - that\u0026rsquo;s Authentication\nAuthorisation Authorisation validates what you claim to be. Going back to the club and the bouncer stops you. You show him your ID.","title":"What's the difference between Authentication, Authorisation and Accounting? (AAA)"},{"content":"Submodules aren\u0026rsquo;t removed using git rm submodule-dir, they need to be removed in a far more thorough and annoying fashion. There are a number of unclear explainations at various sources so I decided to write my own findings.\nDelete the relevant parts from the .gitmodules file. EG: [submodule \u0026#34;blog/themes/PaperMod\u0026#34;] path = blog/themes/PaperMod url = https://github.com/adityatelange/hugo-PaperMod.git Stage .gitmodules via git add .gitmodules Remove the relevant parts from .git/config EG: [submodule \u0026#34;blog/themes/PaperMod\u0026#34;] url = https://github.com/adityatelange/hugo-PaperMod.git Clear the cache with git rm --cached /path/to/submodule - with no trailing slash. Including the trailing slash will throw an error Remove the .git modules submodule data by running rm -rf .git/modules/submodule_name or rm -rf .git/modules/submodulefoldername Commit the changes Delete the submodule files rm -rf path/to/submodule ","permalink":"https://aidenwebb.github.io/posts/git-remove-submodule/","summary":"Submodules aren\u0026rsquo;t removed using git rm submodule-dir, they need to be removed in a far more thorough and annoying fashion. There are a number of unclear explainations at various sources so I decided to write my own findings.\nDelete the relevant parts from the .gitmodules file. EG: [submodule \u0026#34;blog/themes/PaperMod\u0026#34;] path = blog/themes/PaperMod url = https://github.com/adityatelange/hugo-PaperMod.git Stage .gitmodules via git add .gitmodules Remove the relevant parts from .git/config EG: [submodule \u0026#34;blog/themes/PaperMod\u0026#34;] url = https://github.","title":"Git Remove Submodule"},{"content":"Introduction I recently came to the conclusion that I wasn\u0026rsquo;t posting on my blog nearly as much as I\u0026rsquo;d like to. My blog runs on wordpress, and I\u0026rsquo;ve felt for a while that the process of logging in, creating a post, fixing formatting in a WSYWGI editor and eventually posting was too much resistance when I commonly just write notes in plain text. So, why not just write posts in plain text and have something else do the work of turning that in to a post or a blog?\nIn comes Hugo, a static site generator written in Go.\nGetting Started Installing Hugo First off, I used Chocolatey to install Hugo:\nchoco install hugo Adding a theme I liked the look of the PaperMod theme, simple yet effective. I initially installed using Method 1 - cloning the PaperMod theme directly in to my own code. This caused a bit of faff with git that I didn\u0026rsquo;t want to troubleshoot so I scrapped that and installed via Method 2 - pulling PaperMod in as a submodule.\ngit submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically) I then spent a bit of time tinkering with the config and a test Lipsum post (which I then updated to this post).\nI\u0026rsquo;m not yet ready to scrap my existing Wordpress install, I want to get more familiar with the workings of Hugo first, integrate comments, search etc. So I decided to host Hugo off of Github Pages as an intermediary step. Github Pages doesn\u0026rsquo;t support Hugo out of the box though. However, Github Pages does support just serving raw static HTML/CSS/JS so I created a separate repository (now deleted as I now serve from a gh-pages branch) and imported this as a submodule in the /public/ folder that Hugo uses to publish, we should be able to publish the generated static site directly in to the GitHub Pages repository\nPublishing the site in a roundabout way It\u0026rsquo;s worth noting you cannot clone an empty repository - you must commit something to the repo before cloning it. I committed a quick readme.md.\ngit submodule add -b main https://github.com/Aidenwebb/aidenwebb.github.io.git public After generating the site with hugo -t PaperMod: Navigate to your public directory and run:\ncd public git add . git commit -m \u0026#34;init commit\u0026#34; git push origin main and the submodule remote repo will be updated, and built by Github Pages.\nCSS broke, I\u0026rsquo;ll fix that later When hosting on Github pages, something breaks the integrity of CSS files, so I\u0026rsquo;ve opted to disable fingerprinting (config.yml:params:assets:disablefingerprinting:true) for the time being with the intention of investigating further another time.\nGit and empty folders = a confusing folder structure Moving to another workstation, I noted after pulling my repository that much of the folder structure was missing. Hugo generates a lot of empty folders when it creates a new site, and git does not store empty folders. I regenerated the site with Hugo, and added a .gitkeep file to each empty folder, committing this to the repository.\nBack to theming, and Publishing the site through Github Actions instead of maintaining two repos I populated the config.yml with settings from Papermod\u0026rsquo;s example, tweaking them to suit my needs, then added search and tags. The process of committing to two respositories for code updates and then building and publishing the site from my local system was getting tedious quickly, and after a quick search I was pleased to find that the Hugo documentation included instructions for a gh-pages workflow. After some minor modifications and messing with removing my existing submodule and related cache, I had Hugo publishing through CI/CD to Github pages. I then deleted my \u0026ldquo;publishing\u0026rdquo; repository and renamed my code repository to become my Personal Github Pages.\nSorting out syntax highlighting I work a lot with Powershell, and after enabling Syntax highlighting, it was clear that PaperMod\u0026rsquo;s included highlight.js did not include support for Powershell. It was also 2 years out of date, running version 10.2.1. I forked the repository, downloaded highlight.js version 11.6.0 with Powershell support and dropped it in place. I updated .gitmodules to point to my own fork of PaperMod, and forced an update of the submodule by running git submodule update --remote --merge\nSyntax highlighting is now working!\nNow time for comments My Wordpress blog has comments, and while I don\u0026rsquo;t think they\u0026rsquo;re strictly necessary for a blog of this nature, it is nice to receive feedback from those who\u0026rsquo;ve been helped by what I\u0026rsquo;ve written, or indeed those who need a bit more help. I signed up for disqus, and integrated the comment HTML provided in to layouts\\partials\\comments.html in my PaperMod fork. I then enabled comments in the config.yml. I do have some reservations about disqus, so perhaps may move to another platform in the future. Sadly at this stage I\u0026rsquo;ve not found a means to preseve the existing comments on my blog. Perhaps I\u0026rsquo;ll copy them in to the end of each article.\nMigrating content SchumacherFM has made a Wordpress to Hugo exporter. I installed this on my Wordpress instance and exported my posts. Expectedly, it doesn\u0026rsquo;t do a perfect job of pulling posts and converting them to MarkDown, but it certainly does a good enough job to ease the process. Each post will need to be reviewed and edited in order to remove stray html tags, fix unicode conversions and generally tidy up, but I\u0026rsquo;m very happy with the result.\n","permalink":"https://aidenwebb.github.io/posts/moving-my-blog-to-hugo-getting-started-with-hugo/","summary":"Introduction I recently came to the conclusion that I wasn\u0026rsquo;t posting on my blog nearly as much as I\u0026rsquo;d like to. My blog runs on wordpress, and I\u0026rsquo;ve felt for a while that the process of logging in, creating a post, fixing formatting in a WSYWGI editor and eventually posting was too much resistance when I commonly just write notes in plain text. So, why not just write posts in plain text and have something else do the work of turning that in to a post or a blog?","title":"Moving my blog to Hugo - Getting started with Hugo"},{"content":"The Problem You\u0026rsquo;ve set up Azure AD Connect or Azure AD Connect Cloud Sync, but some users haven\u0026rsquo;t sync\u0026rsquo;d correctly. Trying to force a new sync / Soft Link based on SMTP or UPN matching doesn\u0026rsquo;t work. These sync\u0026rsquo;d users may have created new Azure AD accounts, or may have failed to create an Azure AD account altogether. Your internal users UPN matches a domain configured in Azure AD.\nThe Cause The initial soft link matches on UPN or SMTP, but may fail if there are conflicting ProxyAddresses.\nThe Fix Linking On Premises accounts and Azure AD accounts involves matching the GUID of the On-Premises account with the ImmutableID property of the Azure AD account. This property can be written to using the Azure Powershell module.\nWe need to manually apply the ImmutableID property to the Azure AD account.\nOpen an elevated Powershell prompt on a system that is able to access Active Directory and the internet\nIn Preparation Install required modules 1 2 Install-Module -Name AZ Add-WindowsCapability –online –Name Rsat.ActiveDirectory.DS-LDS.Tools~~~~0.0.1.0 Connect to Azure online 1 Connect-MsolService Resolution steps Get the GUID of your on-premises user:\n1 $guid = (Get-ADUser -Identity \u0026#34;James.Bond\u0026#34;).ObjectGUID\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; Convert the GUID to the ImmutableID used to hardlink in Azure AD\n1 $immutableid=[System.Convert]::ToBase64String($guid.tobytearray()) Check if a user in Azure AD is using this ImmutableID already\n1 Get-MsolUser | Where-Object {$_.immutableid -eq $immutableid} Either:\n: If the Azure AD user using the ImmutableID isn\u0026rsquo;t an account in use, and you have no need for it, delete it completely. 1 2 Get-MsolUser | Where-Object {$_.immutableid -eq $immutableid} | Remove-MsolUser Get-MsolUser | Where-Object {$_.immutableid -eq $immutableid} | Remove-MsolUser -RemoveFromRecycleBin If the Azure AD user using the Immutable ID is an account that you use, and you don\u0026rsquo;t want to delete it, set its ImmutableID to Null 1 Get-MsolUser | Where-Object {$_.immutableid -eq $immutableid} | Set-MsolUser -ImmutableId $null Find the UPN of the Azure AD user you want to Hard Link\nSet the ImmutablieID on the correct AD user\n1 Set-MsolUser -UserPrincipalName James.Bond@CorrectCloudUpnDomain.com -ImmutableId $immutableid ","permalink":"https://aidenwebb.github.io/posts/how-to-hard-link-azure-ad-connect-on-prem-users-to-azure-ad-office-365-accounts/","summary":"The Problem You\u0026rsquo;ve set up Azure AD Connect or Azure AD Connect Cloud Sync, but some users haven\u0026rsquo;t sync\u0026rsquo;d correctly. Trying to force a new sync / Soft Link based on SMTP or UPN matching doesn\u0026rsquo;t work. These sync\u0026rsquo;d users may have created new Azure AD accounts, or may have failed to create an Azure AD account altogether. Your internal users UPN matches a domain configured in Azure AD.\nThe Cause The initial soft link matches on UPN or SMTP, but may fail if there are conflicting ProxyAddresses.","title":"How to Hard Link Azure AD Connect On Prem Users to Azure AD Office 365 Accounts"},{"content":"The Problem You\u0026rsquo;re unable to activate a copy of Windows Server 2019 Evaluation edition with your VLSC MAK key\nThe Cause Server 2019 Evaluation edition can only be activated with a retail key. This must happen before a Volume Licence Key can be used.\nThe Fix We need to use DISM to change the product version/edition\nOpen an elevated command prompt\nGet a list of available version upgrade paths by typing:\nDISM.exe /Online /Get-TargetEditions Then upgrade to the listed edition by typing:\nDISM /Online /Set-Edition:\u0026lt;TargetEdition\u0026gt; /ProductKey:\u0026lt;Product Key from Below Table\u0026gt; /AcceptEula EG: DISM /Online /Set-Edition:ServerDatacenterCor /ProductKey:XXXXX-XXXXX-XXXXX-XXXXX-XXXXX /AcceptEula\nServer Edition Product GVLK Windows Server 2019 Datacenter WMDGN-G9PQG-XVVXX-R3X43-63DFG Windows Server 2019 Standard N69G4-B89J2-4G8F4-WWYCC-J464C Windows Server 2019 Essentials WVDHN-86M7X-466P6-VHXV7-YY726 Windows Server 2019 Azure Core FDNH6-VW9RW-BXPJ7-4XTYG-239TB Windows Server 2019 Datacenter Semi-Annual Channel (v.1809) 6NMRW-2C8FM-D24W7-TQWMY-CWH2D Windows Server 2019 Standard Semi-Annual Channel (v.1809) N2KJX-J94YW-TQVFB-DG9YT-724CC Windows Server 2019 ARM64 GRFBW-QNDC4-6QBHG-CCK3B-2PR88 Windows Server 2016 Standard Semi-Annual Channel (v.1803) PTXN8-JFHJM-4WC78-MPCBR-9W4KR Windows Server 2016 Datacenter Semi-Annual Channel (v.1803) 2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG Windows Server 2016 Datacenter Semi-Annual Channel (v.1709) 6Y6KB-N82V8-D8CQV-23MJW-BWTG6 Windows Server 2016 Standard Semi-Annual Channel (v.1709) DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4 Windows Server 2016 ARM64 K9FYF-G6NCK-73M32-XMVPY-F9DRR Windows Server 2016 Datacenter CB7KF-BWN84-R7R2Y-793K2-8XDDG Windows Server 2016 Standard WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY Windows Server 2016 Essentials JCKRF-N37P4-C2D82-9YXRT-4M63B Windows Server 2016 Cloud Storage QN4C6-GBJD2-FB422-GHWJK-GJG2R Windows Server 2016 Azure Core VP34G-4NPPG-79JTQ-864T4-R3MQX Reboot the system and enter your MAK key either via the GUI or by running the two commands\nslmgr.vbs /ipk \u0026lt;Your Product Key\u0026gt; slmgr.vbs /ato ","permalink":"https://aidenwebb.github.io/posts/how-to-fix-server-2019-activation-error-run-slui.exe-0x2a-0xc004f069/","summary":"The Problem You\u0026rsquo;re unable to activate a copy of Windows Server 2019 Evaluation edition with your VLSC MAK key\nThe Cause Server 2019 Evaluation edition can only be activated with a retail key. This must happen before a Volume Licence Key can be used.\nThe Fix We need to use DISM to change the product version/edition\nOpen an elevated command prompt\nGet a list of available version upgrade paths by typing:","title":"How to Fix Server 2019 Activation Error: Run “slui.exe 0x2a 0xC004F069”"},{"content":"The Problem Veeam is failing to back up one of your Hyper-V VM\u0026rsquo;s and is throwing the error: VHDx:CVhdxDisk.InitialValidation: Invalid bitmap block (all bitmap block of fixed and dynamic disks must be in SB_BLOCK_NOT_PRESENT state) Agent failed to process method {VHDx.GetDiskInformation}\nThe Cause The error is telling us that Veeam\u0026rsquo;s VHDx InitialValidation function failed as the VHDx had blocks in an invalid state.\nAccording to Microsoft\u0026rsquo;s OpenSpecs Documentation for VHDx, the only valid Sector Bitmap Block state for fixed and dynamic disks is SB_BLOCK_NOT_PRESENT\nSector and Payload Bitmap blocks are used in the translation of VHD offset to a VHD file offset, and so is loosely analogous to traditional hard disk clusters.\nWe can therefore conclude that we are dealing with either VHDx corruption or file system cluster misallocation.\nThe Fix Dealing with File System Corruption Before we start, find the VM in Hyper-V Manager and delete/merge any checkpoints. Wait for the merge to complete before continuing.\nIf there are any checkpoints, the changes we make with chkdsk will only affect the differencing AVHDX file, and the VHDX file will remain corrupt.\nLog in to the VM that is failing to be backed up\nRun CMD as an Administrator and run mountvol to get a list of Volumes on the system, even those with no drive letter.\nFor each volume, run chkdsk \u0026quot;\\\\?\\Volume{VOLUMEID}\u0026quot; /f /r /x s to dismount the disk to fix errors on the and repair bad sectors. If repairing the system volume, a reboot will be necessary and the scan will run on startup. It\u0026rsquo;s vital that all volumes are scanned, not just those with a drive letter.\nIf chkdsk finds bad sectors, you will see this in the Chkdsk log under Stage 4 and 5. Once chkdsk is complete on all drives, try running the backup again. If the SB_BLOCK_NOT_PRESENT error persists, try repairing the VHDx file as below Repair corrupt VHDx files The only way to truly \u0026ldquo;repair\u0026rdquo; a VHDX file is to create a new one. To do this we\u0026rsquo;re going to use Hyper-V Manager to convert the existing VHDx to a new one.\nFind the affected VM in Hyper-V manager\nShut down the system and delete / merge any checkpoints it has. Wait for the merge to complete before continuing\nGo into the VM settings and for each Virtual Hard Disk attacked go through the Edit Virtual Hard Disk Wizard\nClick Edit to open the wizard Under Choose Action, select Convert Choose VHDX as the disk format Choose your preferred Disk Type Choose a name and location for your new disk, keep a note of it. I recommend using the same path as the old disk and appending \u0026ldquo;_v2\u0026rdquo; before the extension Wait for disk conversion to complete Back in the VM settings, change the path to the new VHDX Once all disks are converted and the new disks are attached to the VM. Boot it back up, ensure it\u0026rsquo;s working and try running the backup again. It should now work\nOnce you\u0026rsquo;re satisfied that your VM is running smoothly on its new VHDX\u0026rsquo;s and is backing up successfully, archive or delete your old, corrupt VHDX files\n","permalink":"https://aidenwebb.github.io/posts/how-to-fix-sb_block_not_present-error-in-veeam/","summary":"The Problem Veeam is failing to back up one of your Hyper-V VM\u0026rsquo;s and is throwing the error: VHDx:CVhdxDisk.InitialValidation: Invalid bitmap block (all bitmap block of fixed and dynamic disks must be in SB_BLOCK_NOT_PRESENT state) Agent failed to process method {VHDx.GetDiskInformation}\nThe Cause The error is telling us that Veeam\u0026rsquo;s VHDx InitialValidation function failed as the VHDx had blocks in an invalid state.\nAccording to Microsoft\u0026rsquo;s OpenSpecs Documentation for VHDx, the only valid Sector Bitmap Block state for fixed and dynamic disks is SB_BLOCK_NOT_PRESENT","title":"How to fix SB_BLOCK_NOT_PRESENT error in Veeam"},{"content":"Introduction ITIL defines an incident as “an unplanned interruption to or quality reduction of an IT service”.\nIn order to minimise disruption caused by an incident and restore normal service as quickly as possible, it\u0026rsquo;s vital to have an efficient incident management process. Unfortunately, this is something a lot of IT teams get wrong.\nUnmanaged Incidents It\u0026rsquo;s 1 PM and your team has just started receiving calls from one of your users that the network drives are down. No-one can access anything or save anything and the business cannot function. You don\u0026rsquo;t know it yet but 4 separate people in your IT team are now trying everything they can to get the drives back up and running.\nJames is logging in to the file servers, he calls on previous experience and triggers a restart, hoping they\u0026rsquo;ll pop back up and be OK. They take a while to shutdown.\nKirsty tries pinging the server and gets no response. She starts looking at the firewalls and finds a rule that looks a bit funny. She changes it, thinking that traffic can no longer reach the file servers. The server now responds to ping but after a minute it stops responding again. Unknown to her, this rule was used for testing an FTP server before that IP was assigned to a file server. The file server is now exposed to the internet.\nRyan jumps in remembering a switch in the users\u0026rsquo; office was displaying some errors when he checked it yesterday. He hops in and sees some dropped packets on one interface. He thinks it might be a broadcast storm and disables the interface. Unbeknownst to him, this interface handles VOIP traffic.\nSam also checks the file servers and sees them waiting to shut down, so Sam forces a power-off thinking that they\u0026rsquo;ve hung and now they won\u0026rsquo;t boot at all.\nIt\u0026rsquo;s been 5 minutes. You don\u0026rsquo;t know it yet, but a firewall rule has changed, a switch port has been disabled, production servers have been rebooted, no-one has spoken to each other and now you\u0026rsquo;re getting a call from the VP of Sales telling you that all the phone lines are down in his office and no-one can access the network. He\u0026rsquo;s pissed and wants to know how on earth everything can collapse so quickly without warning.\nAfter some time, you manage to unravel everything, undo the changes to the firewall, the switch and restore the servers from a backup, but it takes a long time and was complicated by the additional changes. After re-enabling the switch rule, you\u0026rsquo;re not seeing any traffic flowing through the interface. You can\u0026rsquo;t seem to get it to detect any traffic and decide to reboot it. It works and 3 hours later and the incident is resolved. You come to the conclusion that maybe the VOIP port might be being used for non-VOIP traffic but you\u0026rsquo;re going to have to investigate that later. Right now you\u0026rsquo;re being called into a meeting with the VP of Sales and the Managing Director to explain the situation. You\u0026rsquo;re not really sure if the firewall, switch, or file servers being down was the actual cause, but you know that rebooting the switch was the last thing you did before it started working.\nWhat went wrong? It\u0026rsquo;s easy to see that everyone in the above scenario was doing their job and working towards a solution, but at the same time, within minutes additional breaking changes have been introduced to the system.\nTunnel vision on a technical problem It\u0026rsquo;s not surprising that members of a technical IT team are keen to jump in and fix a technical problem, however, none took the time to gather information and acquire a broader picture of the error at hand.\nPoor communication Because everyone was too busy rushing to resolve a technical problem, no-one took the time to communicate with each other about who was doing what. Customers did not know what to expect, the VP is angry, members of the team are blaming each other for shutting down the servers, enabling firewall rules and disabling switch ports.\nBreaking Changes Each member of the team made changes to the system without consulting each other or following a Change Management Process. It may be there wasn\u0026rsquo;t one in place. However, despite good intentions from each member, these breaking changes made a bad situation worse.\nAn unclean shutdown of a production file server causing some system corruption requiring recovery A port was opened on the firewall exposing the file server to the internet which could have caused a security incident A switch port was disabled which blocked VOIP traffic in the office. What can we do better? - Manage the incident It\u0026rsquo;s 1 PM. James, Kirtsy, Ryan and Sam each finish a call with someone at the office, and each of their users are unable to access the network drives. James and Kirsty each think that this is big enough to report to you, and do so. You ask if anyone else has seen the issue and Ryan and Sam each flag to you that they have spoken to users with the same issue.\nYou get to work, each of your team members gives their ideas on where the problem might be. You ask each to investigate, test functionality and report back on what they find.\nJames logs in to the file servers, checks the services are running and the health of the shares. He tests the shares from another system in the data centre. All are fine, he reports. You ask him to test from multiple different offices to determine if there\u0026rsquo;s a pattern.\nKirsty tries pinging the server and gets no response. She checks the firewall and finds a suspicious rule. She notes down the configuration and reports back to you. You note it down as a potential cause to investigate shortly.\nRyan checks the switch at the office and sees it dropping packets. He flags this to you and you note this as another potential cause.\nSam writes an email to send to the users at the office, including the VP of Sales, informing them that you know about and are working towards resolving their network drive issue.\nKirsty and you investigate the Firewall rule while Ryan investigates further on the switch. You decide the firewall rule is unlikely to be the cause, as it is disabled, and it\u0026rsquo;s configured to allow FTP traffic, not SMB. You acknowledge that the firewall rule may need addressing separately and ask Kirsty to log a ticket for it.\nRyan reports he doesn\u0026rsquo;t know why the switch is dropping packets, but the CPU is running at 100%.\nJames comes back to you and confirms that all other offices besides the one that reported the problem are able to connect to the network drives.\nYou ask Sam to contact users at the office to test their internet connectivity as well as VOIP quality. He comes back to you saying the internet is slow and the VOIP quality is poor.\nAfter further investigating you discover the network switch is faulty. You reboot it and it comes back up. Phew! 30 minutes after the outage, the issue is resolved.\nSam contacts users to confirm that they are now able to access the network shares and you raise a business case for a replacement switch.\nWhat went right? The managed situation was a far more efficient resolution that managed user expectations and resolved the incident cleanly without introducing further problems. What\u0026rsquo;s more, you were able to test and verify components in isolation in order to narrow down on the root cause.\nBroad vision and teamwork Because some members of the team recognised that the outage wasn\u0026rsquo;t isolated to a single user, and let you know, you were able to take command and lead the team towards resolution. You were able to collectively take stock of what was working before jumping to conclusions.\nGood communication Not only did your team communicate with you, but Sam took the role of keeping the users updated. As a result, the VP of Sales is informed and, while a little grumpy at some lost time, is pleased that the issue was resolved and you\u0026rsquo;re able to prevent a recurrence. The users are happy because rather than constantly refreshing the network share to check if it\u0026rsquo;s working yet, they were able to get on with other tasks or take a break safe in the knowledge that you\u0026rsquo;d let them know when the issue was resolved. The team are pleased with each other and feel they all made a meaningful contribution towards the resolution of the incident.\nNo Breaking Changes Because we all took account of what was working, what was broken, and where, we were able to isolate the incident to a single piece of infrastructure. We were also able to gather and preserve data that we can use as evidence for our business case to replace the switch. We have a good amount of information about where the problem did and not occur, and which components were faulty.\nIn Summary With a strong incident management strategy, we\u0026rsquo;re able to reduce the mean time to resolution (MTTR) of incidents, as well as reduce the amount of stress both our users and IT team are subject to when things go wrong. Any company that values reliability and efficiency would benefit from planning their incident response strategy in advance.\nPrepare: Build and document your incident management strategy and train staff in its implementation.\nInvestigate: Confirm functionality of components to narrow down the cause before making any changes\nPrioritise: Restore service as soon as possible, while preserving evidence and logs for deeper root cause analysis\nSeparate: Spread the workload, giving each member of the incident management team a specific role. Vital roles are Manager, Operations, Comms and Planning.\nManager has the job of holding the high-level state of the incident and orchestrating the response. Operations has the job of investigating and implementing resolution steps to the incident. Comms has the job of communicating with users and stakeholders, providing updates and flagging new information. Support has the job of supporting the other roles by logging additional tickets for things to check in on later, tracking changes to the system, arranging handovers and regular coffee. Trust: Allow your IT team autonomy within their role in the incident management process. Reducing crossover prevents people from feeling overwhelmed!\nManage Emotion: Be aware of the emotional state of you, your staff, and your users when managing an incident. If people are starting to feel panicked and overwhelmed, they\u0026rsquo;re more likely to make mistakes. Take high emotions as a signal to solicit further help.\nReview: After the incident, review with your team and users to determine if there\u0026rsquo;s anything you could have done better. Continually improving the process over time and tailoring it to your culture and organisation is vital to the continued success of the process.\nFootnotes This incident management strategy is adapted from FEMA\u0026rsquo;s National Incident Management System. On Page 52: Communications management.\nManager corresponds to Strategic communication Operations corresponds to Tactical communication Support corresponds to\u0026hellip; well, Support Comms corresponds to Public communication ","permalink":"https://aidenwebb.github.io/posts/traps-and-dangers-of-unmanaged-incidents-and-how-to-solve-them/","summary":"Introduction ITIL defines an incident as “an unplanned interruption to or quality reduction of an IT service”.\nIn order to minimise disruption caused by an incident and restore normal service as quickly as possible, it\u0026rsquo;s vital to have an efficient incident management process. Unfortunately, this is something a lot of IT teams get wrong.\nUnmanaged Incidents It\u0026rsquo;s 1 PM and your team has just started receiving calls from one of your users that the network drives are down.","title":"Traps and Dangers of Unmanaged Incidents and How to Solve Them"},{"content":"Check Task Manager The first, simplest option to check is to open task manager. Click the performance tab Check if Virtualisation is Enabled If Virtualisation is not Enabled, this could be due to it being disabled in the BIOS. Before enabling it, check if your processor is compatible. Check Processor Compatibility Identify your Processor Press the Windows Key Type \u0026ldquo;System Information\u0026rdquo; in the search box Make a note of your processor make and model Check Product Specs - Intel: If your processor is Intel, go to the Intel Product Specification Page and look up your processor model and open the specification page. Under the \u0026ldquo;Advanced Technologies\u0026rdquo; heading, if Virtualisation is supported, Intel Virtualization Technology (VT-x) will say yes Check Product Specs - AMD: If your processor is AMD, go to the AMD Product Specification Page and look up your processor model and open the specification page. If the Launch Date is any time after 2007, your CPU supports virtualisation. Unlike Intel, AMD don\u0026rsquo;t reserve Virtualisation technologies for only some of their processors. ","permalink":"https://aidenwebb.github.io/posts/how-to-check-if-your-cpu-supports-virtualisation/","summary":"Check Task Manager The first, simplest option to check is to open task manager. Click the performance tab Check if Virtualisation is Enabled If Virtualisation is not Enabled, this could be due to it being disabled in the BIOS. Before enabling it, check if your processor is compatible. Check Processor Compatibility Identify your Processor Press the Windows Key Type \u0026ldquo;System Information\u0026rdquo; in the search box Make a note of your processor make and model Check Product Specs - Intel: If your processor is Intel, go to the Intel Product Specification Page and look up your processor model and open the specification page.","title":"How to check if your CPU supports Virtualisation"},{"content":"The Problem You\u0026rsquo;re trying to connect to your NAS\u0026rsquo;s web interface but it\u0026rsquo;s just spinning forever and not actually loading. The Cause The cause can be a number of things, but it boils down to an issue with the http service or proxy service on the QNAP. Sometimes a configuration problem will cause the service to behave badly. A firmware update may cause a mismatch between the config file and the service being run.\nThe Fix I\u0026rsquo;m assuming at this point that you\u0026rsquo;ve tried rebooting the NAS and that hasn\u0026rsquo;t resolved the issue. Here are some other things you can try.\nReset the Admin account config Download, install and run WinSCP In WinSCP, set the option to show hidden files (keyboard shortcut Ctrl-Alt-H or Click Options \u0026gt; Preferences \u0026gt; Panels and ensure that \u0026ldquo;Show hidden files\u0026rdquo; is checked, then click OK ) Connect to the IP of your QNAP NAS as Admin Click Open Directory and enter: /etc/config/.qos_config/users/admin/ Download the config and .qtoken files to your local machine as a backup Delete the config and .qtoken files on the QNAP Click Commands \u0026gt; Open Terminal Type \u0026ldquo;reboot\u0026rdquo; and click execute to reboot the NAS Note it may take a long time for the NAS to reboot. Leave it to do what it needs to do for at least half an hour. Periodically attempt to reconnect to WinSCP / the Web page, or use QFinder to determine when the QNAP is back online.\nRestart the HTTP server / amend configuration If the above does not work, you may have a different problem, not currently covered in this guide. It\u0026rsquo;s worth restarting the http service and confirming both start OK. Note all commands here are case sensitive. Slashes (\\) and backslashes (/) are also not interchangeable as they are in a Windows environment.\nDownload and run Putty Connect to your QNAP via SSH and log in as Admin Navigate to the init.d directory 1 cd /etc/init.d/ List all the http shell scripts, you should see both \u0026ldquo;Qthttpd.sh\u0026rdquo; (Web Server) and \u0026ldquo;thttpd.sh\u0026rdquo; (Apache Proxy) 1 ls -1 | grep \u0026#39;http\u0026#39; Restart Qthttpd, confirm that shutdown and start both return OK. 1 ./Qthttpd.sh restart Restart thttpd, confirm that shutdown and start both return OK 1 ./thttpd.sh restart If the apache proxy does not start: Get the Web Access Port config, you should see \u0026ldquo;8080\u0026rdquo; being displayed. If it does not, go to Step 2. 1 /sbin/getcfg SYSTEM \u0026#34;Web Access Port\u0026#34; Set the Web Access Port to 8080 as should be default 1 /sbin/setcfg SYSTEM \u0026#34;Web Access Port\u0026#34; 8080 Restart the thttpd service and apache proxy 1 /etc/init.d/thttpd.sh restart ","permalink":"https://aidenwebb.github.io/posts/how-to-fix-qnap-nas-web-gui-interface-timing-out-or-never-loading/","summary":"The Problem You\u0026rsquo;re trying to connect to your NAS\u0026rsquo;s web interface but it\u0026rsquo;s just spinning forever and not actually loading. The Cause The cause can be a number of things, but it boils down to an issue with the http service or proxy service on the QNAP. Sometimes a configuration problem will cause the service to behave badly. A firmware update may cause a mismatch between the config file and the service being run.","title":"How to fix QNAP NAS web GUI interface timing out or never loading"},{"content":"I\u0026rsquo;ve been asked why the Advanced Permissions dialogue on NTFS folders lists \u0026ldquo;Traverse folder / execute file\u0026rdquo; as one single permission.\nOn the surface it seems counterintuitive that you\u0026rsquo;d allow a user to navigate through a folder, or execute its contents.\nThere\u0026rsquo;s no official Microsoft documentation on the design decisions, however, from a filesystem perspective, entering a folder is the same as executing or running it. The same is true of 3 classic Unix filesystem flags and permissions, where the \u0026ldquo;X\u0026rdquo; flag allows both directory traversal and file execution, while \u0026ldquo;R\u0026rdquo; allows reading and \u0026ldquo;W\u0026rdquo; allows writing.\n","permalink":"https://aidenwebb.github.io/posts/why-traverse-folder-and-execute-file-is-a-combined-ntfs-permission/","summary":"I\u0026rsquo;ve been asked why the Advanced Permissions dialogue on NTFS folders lists \u0026ldquo;Traverse folder / execute file\u0026rdquo; as one single permission.\nOn the surface it seems counterintuitive that you\u0026rsquo;d allow a user to navigate through a folder, or execute its contents.\nThere\u0026rsquo;s no official Microsoft documentation on the design decisions, however, from a filesystem perspective, entering a folder is the same as executing or running it. The same is true of 3 classic Unix filesystem flags and permissions, where the \u0026ldquo;X\u0026rdquo; flag allows both directory traversal and file execution, while \u0026ldquo;R\u0026rdquo; allows reading and \u0026ldquo;W\u0026rdquo; allows writing.","title":"Why “traverse folder” and “execute file” is a combined NTFS permission"},{"content":"If you\u0026rsquo;re working on Windows Server Core or remotely on another computer and don\u0026rsquo;t have access to the Windows GUI, you might have trouble disabling a faulty or unwanted plug-and-play device. Thankfully Powershell makes it easy to get, enable and disable devices in Device Manager using Get-PnpDevice, Enable-PnpDevice and Disable-PnpDevice\nHow to query devices 1 2 3 4 5 6 7 Get-PnpDevice # Get\u0026#39;s all PNP Devices Get-PnpDevice -PresentOnly # Gets all PNP Devices currently attached or physically present in the system Get-PnpDevice -FriendlyName \u0026#34;*Ethernet*\u0026#34; # Gets all PNP Devices with a name containing \u0026#34;Ethernet\u0026#34; Get-PnpDevice -Status ERROR # Gets all PNP Devices in an errored states How to enable or disable devices To enable disable a device, simply pipe the output of Get-PnpDevice to Disable-PnpDevice or Enable-PnpDevice. Please be sure your Get-PnpDevice command is targeting the correct device before piping to avoid accidentally disabling devices you\u0026rsquo;d rather keep enabled!\n1 2 3 Get-PnpDevice -FriendlyName \u0026#34;*Ethernet*\u0026#34; | Disable-PnpDevice # Disables all PNP Devices with a name containing \u0026#34;Ethernet\u0026#34; Get-PnpDevice -FriendlyName \u0026#34;*Ethernet*\u0026#34; | Enable-PnpDevice # Enables all PNP Devices with a name containing \u0026#34;Ethernet\u0026#34; You could also output the instance ID to a variable for use later if you\u0026rsquo;d rather\n1 2 $DeviceID = Get-PnPDevice -FriendlyName \u0026#34;Intel(R) Ethernet Connection I217-V\u0026#34; | Select-Object InstanceID Disable-PnpDevice -InstanceID $DeviceID Or\n1 2 $DeviceID = (Get-PnpDevice -FriendlyName \u0026#34;Intel(R) Ethernet Connection I217-V\u0026#34;).InstanceID Disable-PnpDevice -InstanceID $DeviceID ","permalink":"https://aidenwebb.github.io/posts/how-to-enable/disable-hardware-devices-using-windows-powershell/","summary":"If you\u0026rsquo;re working on Windows Server Core or remotely on another computer and don\u0026rsquo;t have access to the Windows GUI, you might have trouble disabling a faulty or unwanted plug-and-play device. Thankfully Powershell makes it easy to get, enable and disable devices in Device Manager using Get-PnpDevice, Enable-PnpDevice and Disable-PnpDevice\nHow to query devices 1 2 3 4 5 6 7 Get-PnpDevice # Get\u0026#39;s all PNP Devices Get-PnpDevice -PresentOnly # Gets all PNP Devices currently attached or physically present in the system Get-PnpDevice -FriendlyName \u0026#34;*Ethernet*\u0026#34; # Gets all PNP Devices with a name containing \u0026#34;Ethernet\u0026#34; Get-PnpDevice -Status ERROR # Gets all PNP Devices in an errored states How to enable or disable devices To enable disable a device, simply pipe the output of Get-PnpDevice to Disable-PnpDevice or Enable-PnpDevice.","title":"How to enable/disable hardware devices using Windows Powershell"},{"content":"The proxy address is already being used by the proxy addresses of another mailbox\nWhy can\u0026rsquo;t I create a mailbox at account@domain2.com if one already exists at account@domain1.com\nThe Problem So, you have two (or more) domains associated with your Office 365 Exchange account. When you try to create a shared mailbox on one domain, you encounter an error stating the proxy address is already being used.\nFor example You have two domains, lets call them domain1.com and domain2.com You\u0026rsquo;re trying to create a shared mailbox on domain2.com and you\u0026rsquo;re hitting an error. The message reads:\nThe proxy address \u0026ldquo;SMTP:name@domain.com\u0026rdquo; is already being used by the proxy addresses or LegacyExchangeDN. Please choose another proxy address.\u0026quot;\nThe Cause This issue occurs because the Shared Mailbox we\u0026rsquo;re trying to create is automatically assigned a UserPrincipalName on the default domain for the organisation, no matter which domain we try to create it on.\nFor example.\nYou have a user, shared or resource mailbox already in existence on domain1.com with an alias of finance@domain1.com When you try to create the finance@domain2.com mailbox, Office365 tries to assign the UserPrincipalName as finance@domain1.com, this is already in use so O365 throws the error that we\u0026rsquo;re seeing. The Fix Connect to Office365 / Exchange as an admin via Powershell\n1 2 3 $UserCredential = Get-Credential $Session = New-PSSession -ConfigurationName Microsoft.Exchange -ConnectionUri https://outlook.office365.com/powershell-liveid/ -Credential $UserCredential -Authentication Basic -AllowRedirection Import-PSSession $Session -DisableNameChecking Remove the alias from the existing mailbox (don\u0026rsquo;t worry, we\u0026rsquo;ll add it back shortly!)\nNOTE: If the conflicting alias is the default SMTP for the mailbox, you\u0026rsquo;ll need to create a new temporary default SMTP alias before removing the conflicting one\n1 Set-Mailbox account@domain1.com -EmailAddresses @{remove=\u0026#34;finance@domain1.com\u0026#34;} Create the shared mailbox you want to create on domain2.com\n1 New-Mailbox -Name finance@domain2.com -Shared The value for \u0026ldquo;MicrosoftOnlineServicesID\u0026rdquo; is the value of the MailBox Property \u0026ldquo;WindowsLiveID\u0026rdquo; and this defaults to your default domain, as explained in The Cause – https://msdn.microsoft.com/en-us/library/ee423637(v=exchsrvcs.149).aspx\nWe want to change this to our secondary domain to enable us to delete the default primary domain smtp alias.\nIgnore the warning that appears after you run the command.\n1 2 Set-Mailbox finance@domain2.com -MicrosoftOnlineServicesID finance@domain2.com WARNING: UserPrincipalName \u0026#34;finance@domain1.com\u0026#34; should be same as WindowsLiveID \u0026#34;finance@domain2.com\u0026#34;, UserPrincipalName should remain as\u0026#34;finance@domain2.com\u0026#34;. Remove the default smtp address from our new mailbox\n1 Set-Mailbox finance@domain2.com -EmailAddresses @{remove=\u0026#34;finance@domain1.com\u0026#34;} Confirm that the removal was successful\n1 2 3 4 5 6 Get-Recipient finance@domain2.com | select name, emailaddresses Name EmailAddresses ---- -------------- finance@domain1.com {SMTP:finance@domain1.com} Add the domain1.com alias back to the email address.\n1 Set-Mailbox account@domain1.com -EmailAddresses @{add=\u0026#34;finance@domain1.com\u0026#34;} ","permalink":"https://aidenwebb.github.io/posts/how-to-fix-conflicting-proxy-addresses-in-o365-when-creating-a-mailbox/","summary":"The proxy address is already being used by the proxy addresses of another mailbox\nWhy can\u0026rsquo;t I create a mailbox at account@domain2.com if one already exists at account@domain1.com\nThe Problem So, you have two (or more) domains associated with your Office 365 Exchange account. When you try to create a shared mailbox on one domain, you encounter an error stating the proxy address is already being used.\nFor example You have two domains, lets call them domain1.","title":"How to fix conflicting proxy addresses in O365 when creating a mailbox"},{"content":"I am a Systems and Infrastructure Architect based in Bournemouth, UK\nI\u0026rsquo;m an avid learner and love a challenge.\nI started this blog as a creative outlet at a time where I most needed to organise my thoughts. Here you\u0026rsquo;ll find helpful tips, introspection and plenty of shenanigans.\nI\u0026hellip;\nWork full time at John Smith and Sons Group as an IT Systems Architect, Engineer and Admin.\nFreelance as a web designer and manage web hosting at Rootwire.\nAnd I run a circus and entertainments company, Steamship Circus!\nPhoto credit Will Tudor Photography. Go check him out!\n","permalink":"https://aidenwebb.github.io/about/","summary":"About Me","title":"About Me"},{"content":"The comment section can be a great place for interaction with readers, writers and even for spawning stimulating conversation – it can be a great place for all of us! To ensure that you have a good time over here at MSPU, please make sure to stick to the following guidelines:\nBe polite – don’t be rude to anyone and respect others. If something you would say would get you bottled on the head offline, please don’t say it here. Remember there is a person behind the screen and that your words affect people. Don’t troll. We appreciate and welcome criticism towards writers here, but comments that add no value to the discussion or that are merely insulting would be deleted without exception. Spam? Goodbye. We understand that you may make thousands of dollars working from home, however, we are not interested. Please refrain from posting or we’ll give you a hand and show both you and your post the door. To put it in a simple sentence, our guidelines boil down to “Don’t be a dick”. If you don’t follow any of these guidelines, not only will our moderators remove the comment but we may also ban you from participating in the discussions.\nIf you find any comments which violate our guidelines, please make sure to ‘flag’ or ‘mark as spam’ – our moderators highly appreciate your support!\nHappy commenting!\n","permalink":"https://aidenwebb.github.io/comment-policy/","summary":"comment policy","title":"Comment Policy"}]